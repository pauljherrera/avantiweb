{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
	<title>{% block title %}{% endblock %}</title>
	{% block style %}
		<link href="{% static 'account/base.css' %}" rel="stylesheet">
	{% endblock %}
	<link rel="shortcut icon" type='image/png' href="{% static 'account/images/favicon.png' %}">
</head>
<body>
	<header>
		<span class="logo"><img src="{% static 'account/images/logo.png' %}" alt="Logo" class="logo" height="80" /></span>

		<span class="login">
			{% if request.user.is_authenticated %}
				<a class='button'href="{% url 'account:logged_out' %}">Logout</a>
			{% else %}
				<a class='login-button button' data-type='login'>Login</a>
				<a class="login-button button" data-type='sign-up'>Sign up</a>

			{% endif %}
		</span>
	</header>

	
	{% if messages %}
		<ul class="messages">
		{% for message in messages %}
			<li class="{{ message.tags }}">
				{{ message|safe }}
			<a href="#" class="close">âœ–</a>
			</li>
		{% endfor %}
		</ul>
	{% endif %}

	

	{% block content %}
	{% endblock %}
	
	{% block js %}
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<script src=" http://cdn.jsdelivr.net/jquery.cookie/1.4.1/jquery.cookie.min.js "></script>
	{% endblock %}

	<script>
		var csrftoken = $.cookie('csrftoken');
		function csrfSafeMethod(method) {
			// these HTTP methods do not require CSRF protection
			return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
		}
		$.ajaxSetup({
			beforeSend: function(xhr, settings) {
				if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
					xhr.setRequestHeader("X-CSRFToken", csrftoken);
				}
			}
		});
		$(document).ready(function(){
			{% block domready %}
			{% endblock %}
		});
	</script>
</body>
</html>