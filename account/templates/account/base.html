{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
	<title>{% block title %}{% endblock %}</title>
	{% block style %}
		<link href="{% static 'account/base.css' %}" rel="stylesheet">
	{% endblock %}
	<link rel="shortcut icon" type='image/png' href="{% static 'account/images/favicon.png' %}">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	<header>
		<span class="logo"><a href="{% url 'main' %}"><img src="{% static 'account/images/logo.png' %}" alt="Logo" class="logo" height="70" /></a></span>

		<div class="header-menu">
			<h2 class="header-option divisor" id="free-strategy">Free Strategy</h2>
			<h2 class="header-option divisor" id="expert-advisor">Expert Advisor</h2>
			<h2 class="header-option divisor" id="complete-portfolio">Complete Portfolio</h2>
		</div>

		<div class="login">
			{% if request.user.is_authenticated %}
				<a class='button' href="{% url 'account:logged_out' %}">Logout</a>
			{% else %}
				<a class='login-button button' data-type='login'>Login</a>
				<a class="login-button button" data-type='sign-up'>Sign up</a>

			{% endif %}
		</div>
	</header>

	
	{% block content %}
	{% endblock %}
	
	{% block js %}
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	{% endblock %}

	<script>
		$(document).ready(function(){
			{% block domready %}
			{% endblock %}

			var headerHeight = document.getElementsByTagName('header')[0].offsetHeight;

			
			window.addEventListener('scroll', function() {

				var viewable = $(document).scrollTop() + window.innerHeight - 200;

				$('.to-right').each(function() {
					if ($(this).offset().top < viewable) {
						$(this).animate({left: '0'}, 700);
					}
				});

				$('.to-left').each(function() {
					if ($(this).offset().top < viewable) {
						$(this).animate({right: '0'}, 800);
					}
				});
			});

			$('#free-strategy').click(function() {
				block = false;
			    currentScreen = 2;
				var screenOffset = document.getElementById('second-screen').offsetTop;

				if (document.getElementById('blank-space').offsetHeight == 0) {
					headerHeight = 0;
				};

				$('html, body').animate({
			        scrollTop: screenOffset - headerHeight
			    }, 300, 'swing', setTimeout(function() {
			    	block = true;
			    },500));
			});
			$('#expert-advisor').click(function() {
				block = false;
		    	currentScreen = 3;
				var screenOffset = document.getElementById('third-screen').offsetTop;

				if (document.getElementById('blank-space').offsetHeight == 0) {
					headerHeight = 0;
				};

				$('html, body').animate({
			        scrollTop: screenOffset - headerHeight
			    }, 300, 'swing', setTimeout(function() {
			    	block = true;
			    },500));
			});
			$('#complete-portfolio').click(function() {
				block = false;
			    currentScreen = 4;
				var screenOffset = document.getElementById('fourth-screen').offsetTop;

				if (document.getElementById('blank-space').offsetHeight == 0) {
					headerHeight = 0;
				};

				$('html, body').animate({
			        scrollTop: screenOffset - headerHeight
			    }, 300, 'swing', setTimeout(function() {
			    	block = true;
			    },500));
			});
		});
	</script>
</body>
</html>